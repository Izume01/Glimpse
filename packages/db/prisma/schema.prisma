generator client {
  provider = "prisma-client-js"
  
}

datasource db {
  provider = "postgresql"
}


model user{
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Event {
  id         String   @id @default(uuid())
  projectId  String
  name       String
  occurredAt DateTime
  receivedAt DateTime @default(now())

  userId    String?
  sessionId String?

  traits     Json?
  properties Json?
  context    Json?

  ip        String?
  userAgent String?

  country  String?
  region   String?
  city     String?
  timezone String?
  lat      Float?
  lon      Float?

  @@index([projectId, occurredAt])
  @@index([projectId, sessionId])
  @@map("event")
}